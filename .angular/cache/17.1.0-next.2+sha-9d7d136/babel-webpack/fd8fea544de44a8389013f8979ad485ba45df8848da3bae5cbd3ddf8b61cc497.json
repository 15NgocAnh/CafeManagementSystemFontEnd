{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { GlobalConstants } from 'src/app/shared/global-constants';\nlet ChangePasswordComponent = class ChangePasswordComponent {\n  constructor(formBuilder, userService, dialogRef, ngxService, snackbarService) {\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.dialogRef = dialogRef;\n    this.ngxService = ngxService;\n    this.snackbarService = snackbarService;\n    this.oldPassword = true;\n    this.newPassword = true;\n    this.confirmPassword = true;\n    this.changePasswordForm = FormGroup;\n  }\n  ngOnInit() {\n    this.changePasswordForm = this.formBuilder.group({\n      oldPassword: [null, Validators.required],\n      newPassword: [null, Validators.required],\n      confirmPassword: [null, Validators.required]\n    });\n  }\n  validateSubmit() {\n    if (this.changePasswordForm.controls['newPassword'].value != this.changePasswordForm.controls['confirmPassword'].value) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  handlepasswordChangeSubmit() {\n    this.ngxService.start();\n    var formData = this.changePasswordForm.value;\n    var data = {\n      oldPassword: formData.oldPassword,\n      newPassword: formData.newPassword,\n      confirmPassword: formData.confirmPassword\n    };\n    this.userService.changePassword(data).subscribe({\n      next: response => {\n        this.ngxService.stop();\n        this.responeMessage = response?.message;\n        this.dialogRef.close();\n        this.snackbarService.openSnackBar(this.responeMessage, \"success\");\n      },\n      error: error => {\n        console.log(\"Loi o day\" + error);\n        this.ngxService.stop();\n        if (error.error?.message) {\n          this.responeMessage = error.error?.message;\n        } else {\n          this.responeMessage = GlobalConstants.genericError;\n        }\n        this.snackbarService.openSnackBar(this.responeMessage, GlobalConstants.error);\n      }\n    });\n  }\n};\nChangePasswordComponent = __decorate([Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.component.html',\n  styleUrl: './change-password.component.scss'\n})], ChangePasswordComponent);\nexport { ChangePasswordComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}