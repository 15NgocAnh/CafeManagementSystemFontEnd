{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, EventEmitter, Inject } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { GlobalConstants } from 'src/app/shared/global-constants';\nlet CategoryComponent = class CategoryComponent {\n  constructor(dialogData, formBuilder, categoryService, dialogRef, snackbarService) {\n    this.dialogData = dialogData;\n    this.formBuilder = formBuilder;\n    this.categoryService = categoryService;\n    this.dialogRef = dialogRef;\n    this.snackbarService = snackbarService;\n    this.onAddCategory = new EventEmitter();\n    this.onEditCategory = new EventEmitter();\n    this.categoryForm = FormGroup;\n    this.dialogAction = \"Add\";\n    this.action = \"Add\";\n  }\n  ngOnInit() {\n    this.categoryForm = this.formBuilder.group({\n      name: [null, [Validators.required]]\n    });\n    if (this.dialogData.action === 'Edit') {\n      this.dialogAction = \"Edit\";\n      this.action = \"Update\";\n      this.categoryForm.patchValue(this.dialogData.data);\n    }\n  }\n  handleSubmit() {\n    if (this.dialogAction === \"Edit\") {\n      this.edit();\n    } else {\n      this.add();\n    }\n  }\n  add() {\n    var formData = this.categoryForm.value;\n    var data = {\n      name: formData.name\n    };\n    this.categoryService.add(data).subscribe({\n      next: response => {\n        this.dialogRef.close;\n        this.onAddCategory.emit();\n        this.responseMessage = response.manage;\n        this.snackbarService.openSnackBar(this.responseMessage, \"success\");\n      },\n      error: error => {\n        this.dialogRef.close();\n        console.error(error);\n        if (error.error?.message) {\n          this.responseMessage = error.error?.message;\n        } else {\n          this.responseMessage = GlobalConstants.genericError;\n        }\n        this.snackbarService.openSnackBar(this.responseMessage, GlobalConstants.error);\n      }\n    });\n  }\n  edit() {\n    var formData = this.categoryForm.value;\n    var data = {\n      id: this.dialogData.id,\n      name: formData.name\n    };\n    this.categoryService.update(data).subscribe({\n      next: response => {\n        this.dialogRef.close;\n        this.onAddCategory.emit();\n        this.responseMessage = response.manage;\n        this.snackbarService.openSnackBar(this.responseMessage, \"success\");\n      },\n      error: error => {\n        this.dialogRef.close();\n        console.error(error);\n        if (error.error?.message) {\n          this.responseMessage = error.error?.message;\n        } else {\n          this.responseMessage = GlobalConstants.genericError;\n        }\n        this.snackbarService.openSnackBar(this.responseMessage, GlobalConstants.error);\n      }\n    });\n  }\n};\nCategoryComponent = __decorate([Component({\n  selector: 'app-category',\n  templateUrl: './category.component.html',\n  styleUrl: './category.component.scss'\n}), __param(0, Inject(MAT_DIALOG_DATA))], CategoryComponent);\nexport { CategoryComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}